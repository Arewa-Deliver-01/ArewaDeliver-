<!doctype html>
<html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Delivery Details</title><link rel="stylesheet" href="style.css"/></head><body>
<header><div class="logo">ArewaDeliver</div><nav><a href="index.html">Home</a><a href="wallet.html">Wallet</a></nav></header>

<main style="max-width:800px;margin:20px auto;padding:12px">
  <h2>Delivery Details</h2>
  <div id="detailBox" style="background:#fff;padding:14px;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,0.06)"></div>
</main>

<script>
(function(){
  // Try pick selected order (vendor) or selected job (rider)
  const orderId = localStorage.getItem('arewa_selected_order') || localStorage.getItem('arewa_selected_job');
  const vendors = JSON.parse(localStorage.getItem('arewa_new_orders')||'{}');
  const jobs = JSON.parse(localStorage.getItem('arewa_jobs')||'{}');
  const users = JSON.parse(localStorage.getItem('arewa_users')||'[]');
  let found = null;
  // search vendor orders
  for(const k in vendors){
    const o = vendors[k].find(x=>x.id===orderId);
    if(o){ found = {type:'order', item:o}; break; }
  }
  // search jobs
  if(!found){
    for(const k in jobs){
      const j = jobs[k].find(x=>x.id===orderId);
      if(j){ found = {type:'job', item:j}; break; }
    }
  }
  const box = document.getElementById('detailBox');
  if(!found){ box.innerHTML = '<p class="muted">No details found.</p>'; return; }
  const it = found.item;
  box.innerHTML = `<div><strong>${it.id}</strong><p class="muted">${it.pickup || ''} → ${it.drop || ''}</p>
    <p>Customer: ${it.customer || '—'}</p><p>Amount: ₦${it.amount || it.pay || '—'}</p><p>Status: ${it.status}</p>
    <div style="margin-top:12px"><button class="btn" onclick="startAction()">Take Action</button> <a class="btn outline" href="javascript:history.back()">Back</a></div></div>`;
  window.startAction = function(){
    alert('Action placeholder — integrate with backend for full control.');
  };
})();
</script>
</body></html>
