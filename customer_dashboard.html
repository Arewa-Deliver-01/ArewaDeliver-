<!doctype html>
<html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Customer Dashboard</title><link rel="stylesheet" href="style.css" /></head><body>
<header><h1 class="logo">ArewaDeliver</h1><nav><a href="index.html">Home</a><a href="profile.html">Profile</a><a href="wallet.html">Wallet</a><a href="request.html">Request</a><a href="logout.html" id="logoutLink">Logout</a></nav></header>
<main class="dashboard">
  <h2>Your Account</h2>
  <div id="profileCard" class="profile-card"></div>
  <section>
    <h3>Recent activity</h3>
    <div id="activityList" class="list"></div>
  </section>
</main>
<script>
(function(){
  const session = JSON.parse(localStorage.getItem('arewa_session')||'null');
  if(!session || session.role!=='customer') location.href='login.html';
  const users = JSON.parse(localStorage.getItem('arewa_users')||'[]');
  const user = users.find(u=>u.email===session.email);
  const pc = document.getElementById('profileCard');
  pc.innerHTML = `<div class="avatar">${user.fullname.charAt(0)}</div>
  <div><strong>${user.fullname}</strong><p>${user.phone}</p><p>${user.email}</p><p>Wallet: â‚¦${user.wallet.balance}</p></div>`;
  const act = document.getElementById('activityList');
  const tx = user.wallet.transactions || [];
  if(tx.length===0) act.innerHTML='<p class="muted">No recent activity</p>';
  else act.innerHTML = tx.map(t=>`<div class="tx">${t}</div>`).join('');
  document.getElementById('logoutLink').addEventListener('click', ()=>{ localStorage.removeItem('arewa_session'); location.href='index.html'; });
})();
</script>
</body></html>
